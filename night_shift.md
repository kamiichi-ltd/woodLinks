# 夜勤指示書：全方位エラー検知と修正

## 目的
プロジェクト全体をスキャンし、TypeScriptの型エラー、Lintエラー、およびビルドエラーを「ゼロ」にする。
特定の機能開発ではなく、コードベースの健全性を完璧な状態に保全することを目的とする。

## 実行プロトコル（以下の順序で実行せよ）

### Phase 1: 静的解析と型定義の修正
1. **TypeScriptチェック:**
   - コマンド `npx tsc --noEmit` を実行する。
   - エラーが出た場合、`@ts-ignore` や `any` で逃げるのではなく、正しい型定義を追加・修正して解決すること。
   - 全てのエラーが消えるまで繰り返す。

2. **Lintチェック:**
   - コマンド `npm run lint` を実行する。
   - 検出された警告やエラー（unused variables, hook dependency warnings等）を全て修正する。

### Phase 2: ビルド整合性チェック
3. **プロダクションビルド試験:**
   - コマンド `npm run build` を実行する。
   - Next.jsのビルドプロセス中に発生するエラー（SSGの生成失敗、Edge Runtimeの互換性エラー等）を特定し、修正する。
   - ビルドが `Compiled successfully` となるまで修正を続ける。

### Phase 3: ランダムサンプリング検査（探索的修正）
4. **主要ファイルの目視チェック:**
   - `app/` ディレクトリ内のファイルをランダムに 5〜10個 開き、明らかにロジックがおかしい箇所（無限ループのリスク、不適切な `console.log` の残留、ハードコードされた秘密情報）がないか診断する。
   - 発見次第、修正する。

## 完了条件
- `npm run build` が完全に成功すること。
- 修正内容を `fix: night shift maintenance` というメッセージでコミットすること。